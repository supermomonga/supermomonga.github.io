<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2014-06-09T00:00:00+09:00</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>momonga.vim #4 に行ってきた</title>
    <link rel="alternate" href="http://blog.url.com/articles/vim/momongavim-4-report.html"/>
    <id>http://blog.url.com/articles/vim/momongavim-4-report.html</id>
    <published>2014-06-09T00:00:00+09:00</published>
    <updated>2014-06-12T08:22:45+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;そして MacBook Air が寿命で壊れました&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Rails4のオレオレRailsComposer用のメモ書き</title>
    <link rel="alternate" href="http://blog.url.com/articles/ruby/rails4-setup.html"/>
    <id>http://blog.url.com/articles/ruby/rails4-setup.html</id>
    <published>2014-06-07T00:00:00+09:00</published>
    <updated>2014-07-21T23:21:28+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;h2 id="init"&gt;Init&lt;/h2&gt;
&lt;pre class="highlight shell"&gt;rails new appname
&lt;span class="nb"&gt;cd&lt;/span&gt; ./appname
&lt;/pre&gt;

&lt;h2 id="initialize-git-repository"&gt;Initialize git repository&lt;/h2&gt;
&lt;pre class="highlight shell"&gt;git init
git add -A
git commit -m &lt;span class="s1"&gt;'initialize rails app'&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="set-rbenv"&gt;Set rbenv&lt;/h2&gt;
&lt;pre class="highlight shell"&gt;rbenv &lt;span class="nb"&gt;local &lt;/span&gt;2.1.1
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;".ruby-version"&lt;/span&gt; &amp;gt;&amp;gt; .gitignore
git add .gitignore
git commit -m &lt;span class="s2"&gt;"add .ruby-version to .gitignore"&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="gemfile"&gt;Gemfile&lt;/h2&gt;
&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;ruby&lt;/span&gt; &lt;span class="s1"&gt;'2.1.1'&lt;/span&gt; &lt;span class="c1"&gt;## for heroku&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'therubyracer'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="ss"&gt;platforms: :ruby&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'slim-rails'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'unicorn'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'cancancan'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'devise'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'activeadmin'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;github: &lt;/span&gt;&lt;span class="s1"&gt;'gregbell/active_admin'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'twitter-bootswatch-rails'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'~&amp;gt; 3.1.1'&lt;/span&gt;
&lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'twitter-bootswatch-rails-helpers'&lt;/span&gt;
&lt;span class="n"&gt;group&lt;/span&gt; &lt;span class="ss"&gt;:development&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'better_errors'&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'binding_of_caller'&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'foreman'&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'html2slim'&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;group&lt;/span&gt; &lt;span class="ss"&gt;:production&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'pg'&lt;/span&gt; &lt;span class="c1"&gt;## for heroku&lt;/span&gt;
  &lt;span class="n"&gt;gem&lt;/span&gt; &lt;span class="s1"&gt;'rails_12factor'&lt;/span&gt; &lt;span class="c1"&gt;## for heroku&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;bundle install
git add Gemfile
git add Gemfile.lock
git commit -m &lt;span class="s1"&gt;'add some gems'&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="setup-unicorn"&gt;setup unicorn&lt;/h2&gt;

&lt;p&gt;create &lt;code&gt;config/unicorn.rb&lt;/code&gt;&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;worker_processes&lt;/span&gt; &lt;span class="nb"&gt;Integer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;ENV&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"WEB_CONCURRENCY"&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;timeout&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;
&lt;span class="n"&gt;preload_app&lt;/span&gt; &lt;span class="kp"&gt;true&lt;/span&gt;

&lt;span class="n"&gt;before_fork&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;worker&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="no"&gt;Signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;trap&lt;/span&gt; &lt;span class="s1"&gt;'TERM'&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s1"&gt;'Unicorn master intercepting TERM and sending myself QUIT instead'&lt;/span&gt;
    &lt;span class="no"&gt;Process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;kill&lt;/span&gt; &lt;span class="s1"&gt;'QUIT'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="no"&gt;Process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;pid&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="n"&gt;defined?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;ActiveRecord&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Base&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt;
    &lt;span class="no"&gt;ActiveRecord&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Base&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;connection&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;disconnect!&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;after_fork&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;worker&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="no"&gt;Signal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;trap&lt;/span&gt; &lt;span class="s1"&gt;'TERM'&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s1"&gt;'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUIT'&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="n"&gt;defined?&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="no"&gt;ActiveRecord&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Base&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt;
    &lt;span class="no"&gt;ActiveRecord&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Base&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;establish_connection&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;git add config/unicorn.rb
git commit -m &lt;span class="s1"&gt;'add unicorn config file'&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="setup-foreman-procfile"&gt;Setup foreman Procfile&lt;/h2&gt;
&lt;pre class="highlight plaintext"&gt;echo 'web: bundle exec unicorn -p $PORT -c ./config/unicorn.rb' &amp;gt;&amp;gt; Procfile
git add Procfile
git commit -m 'add Procfile'
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"RACK_ENV=development"&lt;/span&gt; &amp;gt;&amp;gt; .env
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"RAILS_ENV=development"&lt;/span&gt; &amp;gt;&amp;gt; .env
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"PORT=3000"&lt;/span&gt; &amp;gt;&amp;gt; .env
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;".env"&lt;/span&gt; &amp;gt;&amp;gt; .gitignore
git add .gitignore
git commit -m &lt;span class="s2"&gt;"add .env to .gitignore"&lt;/span&gt;
&lt;/pre&gt;

&lt;h2 id="devise-generate"&gt;Devise generate&lt;/h2&gt;
&lt;pre class="highlight shell"&gt;rails generate devise:install
rails generate devise User
rake db:migrate
git add -A
git commit -m &lt;span class="s1"&gt;'setup devise'&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;add following line to &lt;code&gt;config/environments/development.rb&lt;/code&gt;&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;action_mailer&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;default_url_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="ss"&gt;host: &lt;/span&gt;&lt;span class="s1"&gt;'localhost'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;port: &lt;/span&gt;&lt;span class="mi"&gt;3000&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;git add config/environments/development.rb
git commit -m &lt;span class="s1"&gt;'set action mailer config'&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="highlight plaintext"&gt;rails g devise:views -f
erb2slim -d ./app/views/devise/
git add -A
git commit -m 'add devise views'
&lt;/pre&gt;

&lt;h2 id="generate-layouts-and-devise-views"&gt;generate layouts and devise views&lt;/h2&gt;
&lt;pre class="highlight shell"&gt;rails g bootswatch:install flatly -f
rails g bootswatch:layout flatly -f
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;'Rails.application.config.assets.precompile += %w( flatly.css )'&lt;/span&gt; &amp;gt;&amp;gt; config/initializers/assets.rb
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;'Rails.application.config.assets.precompile += %w( flatly.js )'&lt;/span&gt; &amp;gt;&amp;gt; config/initializers/assets.rb
git add -A
git commit -m &lt;span class="s1"&gt;'setup bootswatch'&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;edit application_controller.rb&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;layout&lt;/span&gt; &lt;span class="s1"&gt;'flatly'&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="highlight shell"&gt;git add app/controllers/application_controller.rb
git commit -m &lt;span class="s1"&gt;'set layoyt'&lt;/span&gt;
&lt;/pre&gt;
</content>
  </entry>
  <entry>
    <title>風邪で喉が終了したのでVimで会話していた</title>
    <link rel="alternate" href="http://blog.url.com/articles/vim/shaberu-vim-recursive.html"/>
    <id>http://blog.url.com/articles/vim/shaberu-vim-recursive.html</id>
    <published>2014-06-03T00:00:00+09:00</published>
    <updated>2014-06-12T08:22:45+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;a href="http://atnd.org/events/45072"&gt;Vim Advent Calendar 2013&lt;/a&gt;、185日目の記事になります。&lt;/p&gt;

&lt;h2 id="風邪"&gt;風邪&lt;/h2&gt;

&lt;p&gt;風邪でめっちゃ熱あるし咳で喉がやばいみたいな感じになっていたら知人の美少女エンジニアが心配してご飯作りに来てくれたんですが、喉が完全に終了していてしまっており会話ができないのでこれはどうするかと考えた結果ずっと拙&lt;a href="https://github.com/supermomonga/shaberu.vim"&gt;Shaberu.vim&lt;/a&gt;で会話していました。&lt;/p&gt;

&lt;h2 id="風邪"&gt;風邪&lt;/h2&gt;

&lt;p&gt;ただ連続して&lt;code&gt;:ShaberuSay&lt;/code&gt;って打つのだるいなみたいになって、熱で朦朧としながら新しく&lt;code&gt;:ShaberuSayInteractive&lt;/code&gt;および&lt;code&gt;:ShaberuSayRecursive&lt;/code&gt;というコマンドを実装しました。&lt;/p&gt;

&lt;h2 id="風邪"&gt;風邪&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;:ShaberuSayInteractive&lt;/code&gt;は、対話的にスピーチするテキストを入力するコマンドです。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;:ShaberuSayRecursive&lt;/code&gt;は、キャンセル（&lt;code&gt;ESC&lt;/code&gt;を打鍵など）されるまで&lt;code&gt;:ShaberuSayInteractive&lt;/code&gt;を再帰的に延々と呼び出すコマンドです。これにより連続してスムーズにVimに喋らせ続けることができるようになりました。&lt;/p&gt;

&lt;h2 id="まとめ"&gt;まとめ&lt;/h2&gt;

&lt;p&gt;久しぶりに風邪で38度超えたし、咳で喉が完全に終了して呼吸するだけで咳がでるみたいな感じになってかなりつらかった。&lt;/p&gt;

&lt;p&gt;これを書いている今現在も微熱あるし喉は終了しています。&lt;/p&gt;

&lt;h2 id="おわり"&gt;おわり&lt;/h2&gt;

&lt;p&gt;おわり&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>TokyoVim #19 に行ってきた</title>
    <link rel="alternate" href="http://blog.url.com/articles/vim/tokyovim-19-report.html"/>
    <id>http://blog.url.com/articles/vim/tokyovim-19-report.html</id>
    <published>2014-05-22T00:00:00+09:00</published>
    <updated>2014-06-12T08:22:45+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;a href="http://atnd.org/events/45072"&gt;Vim Advent Calendar 2013&lt;/a&gt;、173日目の記事になります。&lt;/p&gt;

&lt;h2 id="tokyovim-#19-に行ってきた"&gt;TokyoVim #19 に行ってきた&lt;/h2&gt;

&lt;p&gt;&lt;a href="http://tokyovim.connpass.com/event/6041/"&gt;TokyoVim #19&lt;/a&gt;に行ってきたので、そのレポート記事を書きたいと思います。&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/uploads/2014-05-22-1.jpg" class="full" /&gt;&lt;/p&gt;

&lt;p&gt;今回は神社が会場です嘘です。&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/uploads/2014-05-22-2.jpg" class="full" /&gt;&lt;/p&gt;

&lt;p&gt;会場ではない神社です。&lt;/p&gt;

&lt;h2 id="到着"&gt;到着&lt;/h2&gt;

&lt;p&gt;電車でNexus7見てたらなんか TokyoVim #20 の募集が開始されてたので登録した。その後到着。道に迷ったので10分ほど遅れました。&lt;/p&gt;

&lt;p&gt;私「すみません、&lt;a href="http://vimclip.jp/"&gt;VimClip&lt;/a&gt;の勉強会の会場ってここで合ってますか？」&lt;/p&gt;

&lt;p&gt;kanaさん「えっ、いや、あー、ちがいます。」&lt;/p&gt;

&lt;p&gt;私「ちがうんですか…」&lt;/p&gt;

&lt;p&gt;みたいな会話をしました。&lt;/p&gt;

&lt;h2 id="もくもく会"&gt;もくもく会&lt;/h2&gt;

&lt;p&gt;もくもくしました。今回は割と進捗が出せた気がします。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ツイッターかなりはかどった（かなり）&lt;/li&gt;
&lt;li&gt;VimShellのコードリーディングしていた&lt;/li&gt;
&lt;li&gt;Unite.vimをプラグインのUIフレームワークとして使うことについて考えてた&lt;/li&gt;
&lt;li&gt;Clojureの環境ちょっと整えた&lt;/li&gt;
&lt;li&gt;新プラグインの名前考えてた&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id="kanaさんライブコーディング"&gt;kanaさんライブコーディング&lt;/h2&gt;

&lt;p&gt;タイプしたキーを表示してくれる便利ソフトkeycastrがMarvericksでは動かないみたいな問題があって、どうしよみたいな感じになりました。そこで、私が最近知った便利サイトGoogleというのをみんなに教えてあげました。Googleというのは、知りたいことをキーボードで入力するだけでホームページを探してくれるホームページです便利。&lt;/p&gt;

&lt;p&gt;無事keycastrが使えるようになりライブコーディング的なやつが開始されました。kanaさんは分割ウィンドウの移動にoptionキー（altキー）を多用しているみたいでなるほどーという感じがあった。&lt;/p&gt;

&lt;h2 id="解散"&gt;解散&lt;/h2&gt;

&lt;p&gt;という感じであっというまに終了時間になった。なんか今回ずっともくもくしていてさっちゃんさんとあんまりというか恐らく一言も会話できなかった感あるので次会ったらすごい話したい。&lt;/p&gt;

&lt;h2 id="二次会"&gt;二次会&lt;/h2&gt;

&lt;p&gt;二次会は私とあの人とあの人とかで行きました。ファミレスで丼を食べながらVimをやったりしました。面白い話を色々したきがするけどほとんど覚えてない。りんだんさんが食べてたやつがおいしそうだったけど、何食べてたのかは覚えてない。&lt;/p&gt;

&lt;p&gt;だいたい21時か22時か23時くらいに解散しました（しました）。&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/uploads/2014-05-22-3.jpg" class="full" /&gt;&lt;/p&gt;

&lt;p&gt;丼です。&lt;/p&gt;

&lt;h2 id="まとめ"&gt;まとめ&lt;/h2&gt;

&lt;p&gt;二ヶ月間くらい実家に帰っていて東京に居らず、そのため勉強会参加できていなかったので、久しぶりのVim勉強会でよかった。かなりたのしかった（かなり）。&lt;/p&gt;

&lt;h2 id="おわり"&gt;おわり&lt;/h2&gt;

&lt;p&gt;おわり&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>プログラミングの生産性を上げるには</title>
    <link rel="alternate" href="http://blog.url.com/articles/vim/say-son-say.html"/>
    <id>http://blog.url.com/articles/vim/say-son-say.html</id>
    <published>2014-05-20T00:00:00+09:00</published>
    <updated>2014-06-12T08:22:45+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;img src="/images/uploads/2014-05-20-vim.png" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="http://cside.hatenablog.com/entry/2014/05/19/021253"&gt;プログラミングの生産性を上げるには - Cside::Private&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;他の人の考えも聞きたい。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;私なりの考えを記事にしてみました。&lt;/p&gt;

&lt;h2 id="おわり"&gt;おわり&lt;/h2&gt;

&lt;p&gt;おわり&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Vimで離れた複数の行に対する一括操作を行う</title>
    <link rel="alternate" href="http://blog.url.com/articles/vim/qfreplace-benri.html"/>
    <id>http://blog.url.com/articles/vim/qfreplace-benri.html</id>
    <published>2014-05-14T00:00:00+09:00</published>
    <updated>2014-06-12T08:22:45+09:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;&lt;a href="http://atnd.org/events/45072"&gt;Vim Advent Calendar 2013&lt;/a&gt;、165日目の記事になります。&lt;/p&gt;

&lt;h2 id="離れた複数の行に一括操作を行いたい"&gt;離れた複数の行に一括操作を行いたい&lt;/h2&gt;

&lt;p&gt;と言ってもなんのことか全く伝わらないと思うので例を挙げたいと思います。&lt;/p&gt;

&lt;p&gt;&lt;a href="https://github.com/deris/vim-rengbang"&gt;vim-rengbang&lt;/a&gt;というプラグインが存在します。これはVimで連番を扱うためのプラグインで、機能の一つとして、選択した範囲の数字を連番として書きなおしてくれるコマンドがあります。&lt;/p&gt;
&lt;pre class="highlight html"&gt;&lt;span class="nt"&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;こういったhtmlがあったとして、&lt;code&gt;data-sugoi-id&lt;/code&gt;の値が全て0になっている部分を0,1,2...という連番数字に書き換えたいとします。&lt;/p&gt;

&lt;p&gt;この時、&lt;code&gt;data-sugoi-id&lt;/code&gt;の数字を含む行を選択し&lt;code&gt;:&amp;#39;&amp;lt;,&amp;#39;&amp;gt;RengBang&lt;/code&gt;を実行すると、プラグインが意図通りに書き換えを行ってくれます。大変便利ですね。&lt;/p&gt;

&lt;p&gt;しかし、次のような例はどうでしょうか。&lt;/p&gt;
&lt;pre class="highlight html"&gt;&lt;span class="nt"&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-kanari-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（とても）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-kanari-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（とても）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-sugoi-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（かなり）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;data-kanari-id=&lt;/span&gt;&lt;span class="s"&gt;"0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;（とても）&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;/pre&gt;

&lt;p&gt;このhtmlを、先ほどと同じように&lt;code&gt;data-sugoi-id&lt;/code&gt;の数字を連番に書き換えたい、ただし&lt;code&gt;data-kanari-id&lt;/code&gt;の値はそのままにしておきたい、という場合はどうでしょうか。&lt;/p&gt;

&lt;p&gt;先ほどとおなじように&lt;code&gt;&amp;lt;ul&amp;gt;&lt;/code&gt;から&lt;code&gt;&amp;lt;/ul&amp;gt;&lt;/code&gt;までの行を選択して&lt;code&gt;:&amp;#39;&amp;lt;,&amp;#39;&amp;gt;RengBang&lt;/code&gt;した場合は、意図しない&lt;code&gt;data-kanari-id&lt;/code&gt;の部分まで書き換えられてしまいます。実はvim-rengbangの標準機能でこういった例にも対応はできるのですが、ここはvim-rengbangに限らず、「連続していない複数の行に対して一度でまとめて処理を行いたい」といった場面で汎用的に使えるテクニックがあると便利そうです。&lt;/p&gt;

&lt;h2 id="qfreplace便利"&gt;qfreplace便利&lt;/h2&gt;

&lt;p&gt;そこで&lt;a href="https://github.com/thinca/vim-qfreplace"&gt;vim-qfreplace&lt;/a&gt;の出番です。これは&lt;code&gt;:grep&lt;/code&gt;の結果を用いて置換用のUIを提供してくれる便利プラグインです。&lt;/p&gt;

&lt;p&gt;qfreplaceを導入することで、上記の様な場面での汎用的な解決方法が得られます。&lt;/p&gt;

&lt;p&gt;まず、&lt;code&gt;:vimgrep /data-sugoi-id/ %&lt;/code&gt;として、現在開いているhtmlのバッファを対象に、&lt;code&gt;data-sugoi-id&lt;/code&gt;という文字列を含む行のみを対象とした検索を行います。その後&lt;code&gt;:copen&lt;/code&gt;を実行しQuickFixバッファを開きましょう、QuickFixバッファに移動したら、&lt;code&gt;:Qfreplace&lt;/code&gt;コマンドを実行します。すると、検索にヒットした行のみがリストアップされたバッファが作成されますので、行を全て選択し&lt;code&gt;:&amp;#39;&amp;lt;,&amp;#39;&amp;gt;RengBang&lt;/code&gt;を実行しましょう。その後&lt;code&gt;:wq&lt;/code&gt;を実行すると、元のhtmlバッファに変更が反映されます。&lt;/p&gt;

&lt;h2 id="まとめ"&gt;まとめ&lt;/h2&gt;

&lt;p&gt;単純な置換を行いたい場合は標準の置換コマンドやマクロなどを利用するのが簡単ではありますが、vim-rengbangの様に、「複数の行に対して処理を行う」かつ「処理の内容が他の行に行った処理の内容に依存する」といった処理を行いたい場合、このテクニックが有効です。&lt;/p&gt;

&lt;p&gt;ちなみにこのtipsは私がおしょーさんに相談しておしょーさんが考えてくれたものです。おしょーさんすごい。&lt;/p&gt;

&lt;h2 id="おわり"&gt;おわり&lt;/h2&gt;

&lt;p&gt;おわり&lt;/p&gt;
</content>
  </entry>
</feed>
